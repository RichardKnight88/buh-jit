(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,t,a){},288:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(32),c=a.n(r),s=(a(156),a(45)),o=a(18),i=a(8),l=a(302),j=a(293),d=a(306),u=a(301),b=a(303),h=a(150),O=a(13),p=a.n(O),x=a(10),m=a(2),g=a(21),f=a(35),v=a.n(f),y=a(300),C=a(145),N=a(0),w=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(o.f)(),s=Object(o.g)(),l=function(){var e=Object(g.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(m.a)(Object(m.a)({},a),{},Object(x.a)({},t.target.name,t.target.value)),r(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(g.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v.a.post("/api/auth/login/",a);case 4:n=e.sent,r=n.data,d(r.token,r.username),c.push("/dashboard"),s.pathname,console.log(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.response.statusText);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e,t){window.localStorage.setItem("token",e),window.localStorage.setItem("username",t)};return Object(N.jsxs)(y.a,{onSubmit:j,children:[Object(N.jsxs)(y.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(N.jsx)(y.a.Label,{children:"Email address"}),Object(N.jsx)(y.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:l,value:a.email})]}),Object(N.jsxs)(y.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(N.jsx)(y.a.Label,{children:"Password"}),Object(N.jsx)(y.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:l,value:a.password})]}),Object(N.jsx)("div",{className:"d-grid gap-2",children:Object(N.jsx)(C.a,{variant:"outline-primary",type:"submit",children:"Login"})})]})},k=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(b.a,{trigger:"click",placement:"bottom",overlay:Object(N.jsxs)(h.a,{id:"popover-basic",children:[Object(N.jsx)(h.a.Header,{as:"h3",children:"Login"}),Object(N.jsx)(h.a.Body,{children:Object(N.jsx)(w,{})})]}),children:Object(N.jsx)(d.a.Item,{variant:"dark",style:{color:"#fff",cursor:"pointer"},children:"LOGIN"})})})},_=function(){return window.localStorage.getItem("token")},S=function(){var e=_();if(e){var t=e.split(".");if(!(t.length<3))return JSON.parse(atob(t[1]))}},T=function(){var e=Object(g.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S(),console.log("PAYLOAD"),t){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,v.a.get("/api/auth/profile/",{headers:{Authorization:"Bearer ".concat(_())}});case 6:return a=e.sent,n=a.data,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(g.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/transactions/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(_())}});case 3:return a=e.sent,n=a.data,console.log("DATA",n),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log("Something has gone wrong",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.delete("/api/transactions/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(_())}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.put("/api/transactions/".concat(t,"/"),a,{headers:{Authorization:"Bearer ".concat(_())}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),E=function(e){return new Date(e)},B=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(o.f)(),s=Object(o.g)();return Object(N.jsx)(l.a,{variant:"dark",expand:"lg",style:{backgroundColor:"#6200a3"},children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(l.a.Brand,{href:"/",children:[Object(N.jsx)("i",{className:"fas fa-search-dollar"}),"Buh-Jit"]}),Object(N.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(N.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(N.jsx)(d.a,{className:"me-auto",children:function(){var e=S();if(e)return a||r(window.localStorage.getItem("username")),Math.round(Date.now()/1e3)-e.exp}()?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(d.a.Link,{href:"/dashboard",className:"justify-content-start",children:"Dashboard"}),Object(N.jsx)(u.a,{title:"Logged in as ".concat(a),id:"basic-nav-dropdown",children:Object(N.jsx)(u.a.Item,{onClick:function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("username"),c.push("/"),s.pathname,r(null)},children:"Log Out"})})]}):Object(N.jsx)(k,{})})})]})})},F=function(){var e=Object(o.f)();return console.log(e),Object(N.jsx)("h2",{children:"PROFILE"})},A=a(294),q=a(304),G=a(295),R=a(144),P=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:""}),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(o.f)(),b=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(m.a)(Object(m.a)({},l),{},Object(x.a)({},t.target.name,t.target.value)),d(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(g.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v.a.post("/api/auth/register/",l);case 4:a=e.sent,n=a.data,u.push("/"),console.log(n.message),t.target.reset(),d({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:""}),r(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)("div",{className:"formDiv homeRegistration",children:Object(N.jsx)(j.a,{children:Object(N.jsxs)(y.a,{onSubmit:h,children:[Object(N.jsx)(A.a,{position:"middle-center",children:Object(N.jsx)(q.a,{style:{backgroundColor:"#b3ffb3",top:"56px"},onClose:function(){return r(!1)},show:a,delay:2e3,autohide:!0,children:Object(N.jsx)(q.a.Body,{children:Object(N.jsx)("strong",{children:"Registration Successful. Login up there \u2b06\ufe0e"})})})}),Object(N.jsx)("div",{className:"registrationFormHeading",children:Object(N.jsx)("h2",{children:"Sign up!"})}),Object(N.jsxs)(y.a.Group,{className:"mb-3 pt-4",controlId:"formBasicUsername",children:[Object(N.jsx)(y.a.Label,{children:"Create a Username"}),Object(N.jsx)(y.a.Control,{type:"text",name:"username",placeholder:"Enter Username",onChange:b,value:l.username,required:!0})]}),Object(N.jsxs)(y.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(N.jsx)(y.a.Label,{children:"Email address"}),Object(N.jsx)(y.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:b,value:l.email,required:!0})]}),Object(N.jsxs)(y.a.Group,{className:"mb-3",children:[Object(N.jsx)(y.a.Label,{children:"Your Name"}),Object(N.jsxs)(G.a,{children:[Object(N.jsx)(R.a,{children:Object(N.jsx)(y.a.Control,{id:"formBasicFirstName",type:"text",name:"first_name",placeholder:"First name",onChange:b,value:l.first_name,required:!0})}),Object(N.jsx)(R.a,{children:Object(N.jsx)(y.a.Control,{id:"formBasicLastName",type:"text",name:"last_name",placeholder:"Last name",onChange:b,value:l.last_name,required:!0})})]})]}),Object(N.jsxs)(y.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(N.jsx)(y.a.Label,{children:"Password"}),Object(N.jsx)(y.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:b,value:l.password,required:!0})]}),Object(N.jsxs)(y.a.Group,{className:"mb-3",controlId:"formBasicPasswordConfirmation",children:[Object(N.jsx)(y.a.Label,{children:"Password Confirmation"}),Object(N.jsx)(y.a.Control,{type:"password",name:"password_confirmation",placeholder:"Password Confirmation",onChange:b,value:l.password_confirmation,required:!0})]}),Object(N.jsx)("div",{className:"d-grid gap-2 pb-4",children:Object(N.jsx)(C.a,{variant:"outline-primary",type:"submit",children:"Register"})})]})})})},H=a(296),M=a(299),W=function(e){var t=e.rerender,a=Object(o.f)(),r=Object(n.useState)(!1),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(i.a)(d,2),h=u[0],O=u[1],f=Object(n.useState)(!1),w=Object(i.a)(f,2),k=w[0],S=w[1],T=Object(n.useState)({transaction_type:"Outgoing",amount:"",recipient_sender:"",label:"None",description:"",repeat:!1,repeat_frequency:"",repeat_until:"",transaction_date:"",transaction_day:0,skipped_months:""}),I=Object(i.a)(T,2),L=I[0],D=I[1];Object(n.useEffect)((function(){console.log("REPEAT STATUS",s)}),[s]);var E=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("EVENT",t,"TARGET",t.target),console.log("EVENT TARGET",t.target,"VALUE",t.target),t.target&&"repeat"===t.target.name&&(t.target.value=t.target.checked,l(!s)),a=Object(m.a)(Object(m.a)({},L),{},Object(x.a)({},t.target.name,t.target.value)),D(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log("FORM DATA",L)}),[L]);var B=function(){var e=Object(g.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,v.a.post("/api/transactions/",L,{headers:{Authorization:"Bearer ".concat(_())}});case 4:a.push("/dashboard"),S(!0),n.target.reset(),F(),setTimeout((function(){t()}),500),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(Object(m.a)({},L),{},{transaction_type:"Outgoing",amount:"",recipient_sender:"",label:"None",description:"",repeat:!1,repeat_frequency:"",repeat_until:"",transaction_date:"",transaction_day:0,skipped_months:""});D(e)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(b.a,{placement:"left",delay:{show:400,hide:150},overlay:function(e){return Object(N.jsx)(H.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Add a new transaction"}))},children:Object(N.jsx)(C.a,{variant:"outline-secondary",onClick:function(){return O(!0)},children:Object(N.jsx)("i",{className:"fas fa-plus"})})}),Object(N.jsxs)(M.a,{show:h,onHide:function(){return O(!1)},backdrop:"static",children:[Object(N.jsx)(M.a.Header,{closeButton:!0,children:Object(N.jsx)(M.a.Title,{children:"New Transaction"})}),Object(N.jsx)(M.a.Body,{children:Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"formDiv transactionForm",children:Object(N.jsx)(j.a,{children:Object(N.jsxs)(y.a,{onSubmit:B,children:[Object(N.jsx)(A.a,{position:"middle-center",children:Object(N.jsx)(q.a,{style:{backgroundColor:"#b3ffb3"},onClose:function(){return S(!1)},show:k,delay:2e3,autohide:!0,children:Object(N.jsx)(q.a.Body,{children:Object(N.jsx)("strong",{children:"Transaction successfully added"})})})}),Object(N.jsxs)(G.a,{className:"mb-3 pt-3",children:[Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"TransactionType",children:[Object(N.jsx)(y.a.Label,{children:"Transaction Type"}),Object(N.jsx)(y.a.Select,{name:"transaction_type",defaultValue:"Outgoing",required:!0,onChange:E,children:["Outgoing","Incoming"].map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))})]}),Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"Amount",children:[Object(N.jsx)(y.a.Label,{children:"Transaction Amount"}),Object(N.jsx)(y.a.Control,{name:"amount",type:"number",placeholder:"\xa3",required:!0,value:L.amount,onChange:E})]})]}),Object(N.jsx)("div",{className:"mb-3 dateFieldContainer",children:Object(N.jsxs)(y.a.Group,{controlId:"TransactionDate",children:[Object(N.jsx)(y.a.Label,{children:"Transaction Date"}),Object(N.jsx)(y.a.Control,{type:"date",name:"transaction_date",placeholder:"Select a date",onChange:E,required:!0})]})}),Object(N.jsxs)(y.a.Group,{className:"mb-3",controlId:"recipient_sender",children:[Object(N.jsx)(y.a.Label,{children:"Incoming"!==L.transaction_type?"Recipient":"Sender"}),Object(N.jsx)(y.a.Control,{name:"recipient_sender",type:"text",value:L.recipient_sender,placeholder:"Outgoing"!==L.transaction_type?"Who sent you money?":"Who are you paying?",required:!0,onChange:E})]}),Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"labels",className:"mb-3",children:[Object(N.jsx)(y.a.Label,{children:"Label"}),Object(N.jsxs)(y.a.Select,{name:"label",defaultValue:"None",required:!0,onChange:E,children:[Object(N.jsx)("option",{children:"None"}),["Salary","Groceries","Clothes","Beauty","Eating Out","Refund","Other","Rent","Mortgage","Car","Transport"].map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))]})]}),Object(N.jsxs)(y.a.Group,{className:"mb-3",controlId:"description",children:[Object(N.jsx)(y.a.Label,{children:"Description"}),Object(N.jsx)(y.a.Control,{name:"description",as:"textarea",value:L.description,placeholder:"Enter a description...",required:!0,onChange:E})]}),Object(N.jsx)(y.a.Group,{className:"mb-3",id:"repeatCheckbox",children:Object(N.jsx)(y.a.Check,{name:"repeat",type:"checkbox",label:"Recurring Transaction?",onChange:E})}),"true"===L.repeat&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(G.a,{className:"mb-3",children:[Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"repeat_frequency",children:[Object(N.jsx)(y.a.Label,{children:"Frequency"}),Object(N.jsx)(y.a.Select,{name:"repeat_frequency",defaultValue:"Monthly",required:!0,onChange:E,children:["Daily","Every Week","Every 2 Weeks","Every 4 Weeks","Monthly","Quarterly","Annually"].map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))})]}),Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"repeatUntilDate",children:[Object(N.jsx)(y.a.Label,{children:"Repeat Until"}),Object(N.jsx)(y.a.Control,{type:"date",name:"repeat_until",placeholder:"Select a date",defaultValue:L.transaction_date,onChange:E})]})]})}),Object(N.jsx)("div",{className:"d-grid gap-2 pb-1",children:Object(N.jsx)(C.a,{variant:"outline-secondary",onClick:function(e){e.preventDefault(),F(),O(!1)},children:"Cancel"})}),Object(N.jsx)("div",{className:"d-grid gap-2 pb-4",children:Object(N.jsx)(C.a,{variant:"outline-success",type:"submit",children:"Add Transaction"})})]})})})})})]})]})},V=a(305),U=a(297),J=a(146),Y=function(e){var t=e.transaction,a=e.hiddenToggles,r=e.rerender,c=Object(n.useState)(null),s=Object(i.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(t.repeat),u=Object(i.a)(d,2),b=u[0],h=u[1];console.log(t.repeat),console.log(typeof t.repeat),Object(n.useEffect)((function(){l(t)}),[t]);var O=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target&&"repeat"===t.target.name&&(t.target.value=t.target.checked,h(!b)),a=Object(m.a)(Object(m.a)({},o),{},Object(x.a)({},t.target.name,t.target.value)),l(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:o&&Object(N.jsx)(j.a,{className:"editTransactionForm",children:Object(N.jsxs)("div",{className:"formDiv transactionForm",children:[Object(N.jsx)(j.a,{className:"editTransactionFormHeading",children:Object(N.jsxs)("h4",{children:["Editing Transaction ",o.id]})}),Object(N.jsxs)(y.a,{onSubmit:function(e){e.preventDefault(),D(t.id,o),setTimeout((function(){r(),a()}),300)},children:[Object(N.jsxs)(G.a,{className:"mb-3 pt-3",children:[Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"TransactionType",children:[Object(N.jsx)(y.a.Label,{children:"Transaction Type"}),Object(N.jsx)(y.a.Select,{name:"transaction_type",defaultValue:o.transaction_type,required:!0,onChange:O,children:["Outgoing","Incoming"].map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))})]}),Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"Amount",children:[Object(N.jsx)(y.a.Label,{children:"Transaction Amount"}),Object(N.jsx)(y.a.Control,{name:"amount",type:"number",placeholder:"\xa3",required:!0,value:o.amount,onChange:O})]})]}),Object(N.jsx)("div",{className:"mb-3 dateFieldContainer",children:Object(N.jsxs)(y.a.Group,{controlId:"TransactionDate",children:[Object(N.jsx)(y.a.Label,{children:"Transaction Date"}),Object(N.jsx)(y.a.Control,{type:"date",name:"transaction_date",placeholder:"Select a date",onChange:O,required:!0})]})}),Object(N.jsxs)(y.a.Group,{className:"mb-3",controlId:"recipient_sender",children:[Object(N.jsx)(y.a.Label,{children:"Incoming"!==o.transaction_type?"Recipient":"Sender"}),Object(N.jsx)(y.a.Control,{name:"recipient_sender",type:"text",value:o.recipient_sender,placeholder:"Outgoing"!==o.transaction_type?"Who sent you money?":"Who are you paying?",required:!0,onChange:O})]}),Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"labels",className:"mb-3",children:[Object(N.jsx)(y.a.Label,{children:"Label"}),Object(N.jsxs)(y.a.Select,{name:"label",defaultValue:o.label,required:!0,onChange:O,children:[Object(N.jsx)("option",{children:"None"}),["Salary","Groceries","Clothes","Beauty","Eating Out","Refund","Other","Rent","Mortgage","Car","Transport"].map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))]})]}),Object(N.jsxs)(y.a.Group,{className:"mb-3",controlId:"description",children:[Object(N.jsx)(y.a.Label,{children:"Description"}),Object(N.jsx)(y.a.Control,{name:"description",as:"textarea",value:o.description,placeholder:"Enter a description...",required:!0,onChange:O})]}),Object(N.jsx)(y.a.Group,{className:"mb-3",id:"repeatCheckbox",children:Object(N.jsx)(y.a.Check,{name:"repeat",type:"checkbox",label:"Recurring Transaction?",onChange:O,checked:o.repeat})}),b&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(G.a,{className:"mb-3",children:[Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"repeat_frequency",children:[Object(N.jsx)(y.a.Label,{children:"Frequency"}),Object(N.jsx)(y.a.Select,{name:"repeat_frequency",defaultValue:o.repeat_frequency,required:!0,onChange:O,children:["Daily","Every Week","Every 2 Weeks","Every 4 Weeks","Monthly","Quarterly","Annually"].map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))})]}),Object(N.jsxs)(y.a.Group,{as:R.a,controlId:"repeatUntilDate",children:[Object(N.jsx)(y.a.Label,{children:"Repeat Until"}),Object(N.jsx)(y.a.Control,{type:"date",name:"repeat_until",placeholder:"Select a date",defaultValue:o.transaction_date,onChange:O})]})]})}),Object(N.jsx)("div",{className:"d-grid gap-2 pb-1",children:Object(N.jsx)(C.a,{variant:"outline-secondary",onClick:a,children:"Cancel"})}),Object(N.jsx)("div",{className:"d-grid gap-2 pb-4",children:Object(N.jsx)(C.a,{variant:"outline-success",type:"submit",children:"Confirm Changes"})})]})]})})})},z=function(e){var t=e.handleClose,a=e.showTransactionDetail,r=e.transactionId,c=e.rerender,s=e.rerenderToggle,l=Object(o.f)(),d=Object(o.g)(),u=Object(n.useState)(null),O=Object(i.a)(u,2),x=O[0],m=O[1],f=Object(n.useState)("hidden"),v=Object(i.a)(f,2),y=v[0],w=v[1],k=Object(n.useState)(""),_=Object(i.a)(k,2),S=_[0],T=_[1];Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(r);case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,r]);var D=function(){""===S?(T("hidden"),w("")):(T(""),w("hidden"))};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(M.a,{show:a,onHide:t,backdrop:"static",children:x&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:y,children:Object(N.jsx)(Y,{transaction:x,hiddenToggles:D,rerender:c})}),Object(N.jsx)(j.a,{className:S,children:Object(N.jsxs)(V.a,{className:"transactionCard",children:[Object(N.jsx)(V.a.Header,{as:"h5",children:Object(N.jsxs)(G.a,{children:[Object(N.jsxs)(R.a,{children:[Object(N.jsx)("strong",{children:"Transaction ID:"})," ",x.id]}),Object(N.jsx)(R.a,{xs:2,sm:1,children:Object(N.jsx)("i",{className:"far fa-edit",onClick:D})}),Object(N.jsx)(b.a,{trigger:"click",onHide:function(){return console.log("HIDE")},placement:"left",overlay:Object(N.jsxs)(h.a,{className:"deletePopover",id:"popover-basic",children:[Object(N.jsx)(h.a.Header,{as:"h3",className:"deletePopoverHeader",children:"Are you sure?"}),Object(N.jsx)(h.a.Body,{className:"deletePopover",children:Object(N.jsx)(C.a,{variant:"outline-danger",onClick:function(){L(x.id),setTimeout((function(){t(),c()}),300),l.push("/dashboard"),d.pathname},children:"Yes"})})]}),children:Object(N.jsx)(R.a,{xs:2,sm:1,children:Object(N.jsx)("i",{className:"far fa-trash-alt"})})})]})}),Object(N.jsx)(V.a.Body,{children:Object(N.jsxs)(U.a,{className:"list-group-flush",children:[x.transaction_type&&Object(N.jsxs)(J.a,{children:[Object(N.jsx)("strong",{children:"Transaction type:"})," ",x.transaction_type]}),x.amount&&Object(N.jsxs)(J.a,{children:[Object(N.jsx)("strong",{children:"Amount:"})," \xa3",x.amount]}),x.recipient_sender&&Object(N.jsxs)(J.a,{children:[Object(N.jsxs)("strong",{children:["Outgoing"===x.transaction_type?"Recipient":"Sender",":"]})," ",x.recipient_sender]}),x.label&&Object(N.jsxs)(J.a,{children:[Object(N.jsx)("strong",{children:"Label:"})," ",x.label]}),x.description&&Object(N.jsxs)(J.a,{children:[Object(N.jsx)("strong",{children:"Description:"})," ",x.description]}),x.transaction_date&&Object(N.jsxs)(J.a,{children:[Object(N.jsx)("strong",{children:"Date:"})," ",E(x.transaction_date).toDateString()]}),x.repeat&&Object(N.jsx)(J.a,{children:Object(N.jsxs)("strong",{children:["Repeats ",x.repeat_frequency]})})]})}),Object(N.jsx)(V.a.Footer,{onClick:t,children:"Done"})]})})]})})})},Q=a(298),K=a(149),X=function(e){var t=e.transactions,a=e.outgoingTransactionsProps,r=Object(n.useState)([]),c=Object(i.a)(r,2),s=c[0],o=c[1];Object(n.useEffect)((function(){var e=[];a.map((function(t){e.indexOf(t.label)<0&&e.push(t.label),a.length>0?o(e):o([])}))}),[t,a]);var l=[];s.map((function(e){var t=0;a.map((function(a){if(a.label===e)return t+=a.amount})),l.push(t)}));var j={labels:s,datasets:[{data:l,backgroundColor:["rgba(153, 0, 153, 1)","rgba(255, 206, 86, 1)","rgba(0, 179, 0, 1)","rgba(54, 162, 235, 1)","rgba(204, 0, 0, 1)","rgba(255, 159, 64, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderColor:["rgba(153, 0, 153, 1)","rgba(255, 206, 86, 1)","rgba(0, 179, 0, 1)","rgba(54, 162, 235, 1)","rgba(204, 0, 0, 1)","rgba(255, 159, 64, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]};return Object(N.jsx)(K.a,{data:a.length>0?j:{labels:["No Transactions Yet"],datasets:[{data:[1],backgroundColor:["#bbb"],borderColor:[],borderWidth:0}]}})},Z=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(i.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(null),u=Object(i.a)(d,2),b=u[0],h=u[1],O=Object(n.useState)(null),x=Object(i.a)(O,2),m=x[0],f=x[1],v=Object(n.useState)(null),y=Object(i.a)(v,2),w=y[0],k=y[1],_=Object(n.useState)(null),S=Object(i.a)(_,2),I=S[0],L=S[1],D=Object(n.useState)(null),B=Object(i.a)(D,2),F=B[0],A=B[1],q=Object(n.useState)(null),P=Object(i.a)(q,2),H=P[0],M=P[1],V=Object(n.useState)(!1),U=Object(i.a)(V,2),J=U[0],Y=U[1],K=Object(n.useState)(null),Z=Object(i.a)(K,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!1),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1];Object(n.useEffect)((function(){var e=new Date,t=e.getMonth();(function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),l(t),h(e.getFullYear())}),[ne]),Object(n.useEffect)((function(){a&&function(){var e=a.transactions.filter((function(e){return E(e.transaction_date).getMonth()===o&&E(e.transaction_date).getFullYear()===b}));e.sort((function(e,t){return E(t.transaction_date).getDate()-E(e.transaction_date).getDate()}));var t=[],n=[];e.map((function(e){"Outgoing"===e.transaction_type?t.push(e):n.push(e)})),f(e),k(t),L(n)}()}),[a,o,b]);var ce=function(e){return e.reduce((function(e,t){return e+t.amount}),0)};Object(n.useEffect)((function(){m&&(M(ce(w)),A(ce(I)))}),[m,w,I]);var se=function(e){if(e%2===0)return"fill"},oe=function(e){console.log("click");var t=e.target.outerHTML.toString().replace('<td value="',"").split('"')[0],a=parseInt(t);console.log("ID",a),ee(a),ie()},ie=function(){return Y(!0)},le=function(){re(!ne)};return m?Object(N.jsx)(N.Fragment,{children:a&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(j.a,{children:Object(N.jsxs)(G.a,{className:"dashbaordContainerRow",children:[Object(N.jsx)(R.a,{md:12,lg:6,children:Object(N.jsx)("div",{className:"dashboardTableContainer",children:Object(N.jsxs)(j.a,{className:"tableBackground",children:[Object(N.jsxs)(G.a,{className:"dashboardHeaderRow",children:[Object(N.jsx)(R.a,{className:"addTransactionButtonCol"}),Object(N.jsxs)(R.a,{xs:9,className:"dashboardHeading",children:[Object(N.jsx)("h2",{children:"Monthly Balance"}),Object(N.jsx)("h2",{children:F-H<=0?"- \xa3".concat(Math.abs(F-H).toFixed(2)):"\xa3".concat((F-H).toFixed(2))})]}),Object(N.jsx)(R.a,{className:"addTransactionButtonCol",children:Object(N.jsx)(W,{rerender:le})})]}),Object(N.jsxs)(j.a,{className:"monthYearToggle",children:[Object(N.jsx)(C.a,{variant:"secondary",className:"togglButton leftButton",onClick:function(){o>0?l(o-1):(l(11),h(b-1))},children:Object(N.jsx)("i",{className:"fas fa-caret-left fa-2x"})}),Object(N.jsx)("div",{className:"monthYear",children:Object(N.jsxs)("h2",{children:[["January","February","March","April","May","June","July","August","September","October","November","December"][o]," ",b]})}),Object(N.jsx)(C.a,{variant:"secondary",className:"togglButton rightButton",onClick:function(){o<11?l(o+1):(l(0),h(b+1))},children:Object(N.jsx)("i",{className:"fas fa-caret-right fa-2x"})})]}),Object(N.jsxs)(Q.a,{bordered:!0,responsive:!0,hover:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{md:"auto",children:"Date"}),Object(N.jsx)("th",{md:"auto",children:"Amount"}),Object(N.jsx)("th",{md:"auto",children:"From/To"}),Object(N.jsx)("th",{md:"auto",children:"In/Out"}),Object(N.jsx)("th",{md:"auto",children:"Label"})]})}),Object(N.jsx)("tbody",{children:m.length<1?Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:6,children:"No transaction yet."})}):m.map((function(e,t){return Object(N.jsxs)("tr",{className:se(t),onClick:oe,children:[Object(N.jsx)("td",{value:e.id,children:E(e.transaction_date).getDate()}),"Incoming"===e.transaction_type?Object(N.jsxs)("td",{value:e.id,className:"credit",children:["\xa3",e.amount]}):Object(N.jsxs)("td",{value:e.id,className:!0,children:["-\xa3",e.amount]}),Object(N.jsx)("td",{value:e.id,children:e.recipient_sender}),Object(N.jsx)("td",{value:e.id,children:e.transaction_type}),Object(N.jsx)("td",{value:e.id,children:e.label})]},t)}))})]})]})})}),Object(N.jsx)(R.a,{md:12,lg:6,children:Object(N.jsxs)(j.a,{className:"doughnutContainer",children:[Object(N.jsx)("h2",{children:"Spending Breakdown"}),Object(N.jsx)(X,{transactions:m,outgoingTransactionsProps:w})]})})]})}),J&&Object(N.jsx)(z,{handleClose:function(){return Y(!1)},showTransactionDetail:J,transactionId:$,rerender:le,rerenderToggle:ne})]})}):null},$=a.p+"static/media/dashboardScreenshot.2145ef6b.png",ee=function(){var e=$;return Object(N.jsx)(j.a,{className:"homeAlignment",children:Object(N.jsxs)(G.a,{children:[Object(N.jsx)(R.a,{sm:10,lg:7,children:Object(N.jsxs)(V.a,{className:"screenshotCard",children:[Object(N.jsx)(V.a.Header,{as:"h2",children:"Need a budgeting App?"}),Object(N.jsxs)(V.a.Body,{children:[Object(N.jsx)(V.a.Img,{variant:"top",src:e,alt:"dashboard screenshot"}),Object(N.jsx)(V.a.Title,{as:"h4",children:"Keeping track of your finances is the first step to financial freedom"}),Object(N.jsx)(V.a.Text,{children:"So sign up and let's Buh Jit!"})]})]})}),Object(N.jsx)(R.a,{sm:7,lg:5,children:Object(N.jsx)(P,{})})]})})},te=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(s.a,{children:[Object(N.jsx)(B,{}),Object(N.jsxs)(o.c,{children:[Object(N.jsx)(o.a,{path:"/dashboard1",children:Object(N.jsx)(Z,{})}),Object(N.jsx)(o.a,{path:"/dashboard",children:Object(N.jsx)(Z,{})}),Object(N.jsx)(o.a,{path:"/transaction",children:Object(N.jsx)(W,{})}),Object(N.jsx)(o.a,{path:"/register",children:Object(N.jsx)(P,{})}),Object(N.jsx)(o.a,{path:"/profile",children:Object(N.jsx)(F,{})}),Object(N.jsx)(o.a,{path:"/",children:Object(N.jsx)(ee,{})})]})]})})};c.a.render(Object(N.jsx)(te,{}),document.getElementById("root"))}},[[288,1,2]]]);
//# sourceMappingURL=main.a2e93063.chunk.js.map